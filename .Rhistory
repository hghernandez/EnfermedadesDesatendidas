#Cargo la cartografia de los departamentos
deptos <- st_read(dsn= "cartografia/deptos",
layer = "pxdptodatosok")
#Arreglo las geometrias
deptos <- st_make_valid(deptos)
#Cargo la cartografia de las provincias
pcias <- st_read(dsn= "cartografia/provincias",
layer = "pxpciadatosok")
#Arreglo las geometrias
pcias <- st_make_valid(pcias)
#Selecciono caba como provincia
caba <- pcias %>% filter(link == '02')
#Excluyo antartida y caba
deptos <- deptos %>% filter(!link %in% c(94028,94021) & codpcia != '02')
#Uno los departamentos y caba
deptos <- deptos %>%
bind_rows(caba)
#Arreglo los datos
deptos <- deptos %>%
mutate(link= case_when(link== '02' ~ '02000', TRUE ~ link),
codpcia= case_when(link== '02000' ~ '02',TRUE ~ codpcia),
departamen= case_when(link== '02000' ~ 'CABA',TRUE ~ departamen))
#Agrego los datos de ambos sexos
tasas_enf_df <- deptos %>%
left_join(tasas_enf_df %>% filter(grepl("3.",sexo)) %>% select(link,RME,suavizadas,mean,cluster))
#Calculo los quintiles
tasas_enf_df$suavizadas_agrup <- cut(tasas_enf_df$suavizadas,
c(round(unique(quantile(tasas_enf_df$suavizadas, probs = c(0, 0.2, 0.4, 0.6, 0.8),names = FALSE)), 2),Inf),
dig.lab = 6, include.lowest = TRUE,right = TRUE)
#Guardo el archivo
save(tasas_enf_df,file= paste0("Reporte/mapa_",gsub("\\.RData$","",files[3]),".RData"))
library(tidyverse)
library(R.utils)
library(foreign)
library(sf)
library(epitools)
library(spdep)
library(leaflet)
files <- list.files("tasas")
files <- files[grepl(pattern = "suav",files)]
load(paste0("tasas/",files[2]))
##%######################################################%##
#                                                          #
####                Estimo la I de Moran                ####
#                                                          #
##%######################################################%##
#Cargo la matriz de vecindad
matriz <- read.gal("matriz de vecindad/matriz")
tasas_enf_df[is.na(tasas_enf_df)] <- 0
sexo = unique(tasas_enf_df$sexo)
for(sexo in sexo){
tasas_enf_df[tasas_enf_df$sexo== sexo,c(10:14)] <- cbind(attr(localmoran(tasas_enf_df$suavizadas[tasas_enf_df$sexo== sexo[1]],nb2listw(matriz,style = "B")),"quadr"),
localmoran(tasas_enf_df$suavizadas[tasas_enf_df$sexo== sexo[1]],nb2listw(matriz,style = "B"))[,c(1,5)]
)
print(sexo)
}
#Armo los cluster
tasas_enf_df <- tasas_enf_df %>%
mutate(cluster= case_when(`Pr(z != E(Ii))` > 0.05 ~ 'no significativo',
TRUE ~ mean))
#Cargo la cartografia de los departamentos
deptos <- st_read(dsn= "cartografia/deptos",
layer = "pxdptodatosok")
#Arreglo las geometrias
deptos <- st_make_valid(deptos)
#Cargo la cartografia de las provincias
pcias <- st_read(dsn= "cartografia/provincias",
layer = "pxpciadatosok")
#Arreglo las geometrias
pcias <- st_make_valid(pcias)
#Selecciono caba como provincia
caba <- pcias %>% filter(link == '02')
#Excluyo antartida y caba
deptos <- deptos %>% filter(!link %in% c(94028,94021) & codpcia != '02')
#Uno los departamentos y caba
deptos <- deptos %>%
bind_rows(caba)
#Arreglo los datos
deptos <- deptos %>%
mutate(link= case_when(link== '02' ~ '02000', TRUE ~ link),
codpcia= case_when(link== '02000' ~ '02',TRUE ~ codpcia),
departamen= case_when(link== '02000' ~ 'CABA',TRUE ~ departamen))
#Agrego los datos de ambos sexos
tasas_enf_df <- deptos %>%
left_join(tasas_enf_df %>% filter(grepl("3.",sexo)) %>% select(link,RME,suavizadas,mean,cluster))
#Calculo los quintiles
tasas_enf_df$suavizadas_agrup <- cut(tasas_enf_df$suavizadas,
c(round(unique(quantile(tasas_enf_df$suavizadas, probs = c(0, 0.2, 0.4, 0.6, 0.8),names = FALSE)), 2),Inf),
dig.lab = 6, include.lowest = TRUE,right = TRUE)
#Guardo el archivo
save(tasas_enf_df,file= paste0("Reporte/mapa_",gsub("\\.RData$","",files[2]),".RData"))
library(tidyverse)
library(R.utils)
library(foreign)
library(sf)
library(epitools)
library(spdep)
library(leaflet)
files <- list.files("tasas")
files <- files[grepl(pattern = "suav",files)]
load(paste0("tasas/",files[1]))
##%######################################################%##
#                                                          #
####                Estimo la I de Moran                ####
#                                                          #
##%######################################################%##
#Cargo la matriz de vecindad
matriz <- read.gal("matriz de vecindad/matriz")
tasas_enf_df[is.na(tasas_enf_df)] <- 0
sexo = unique(tasas_enf_df$sexo)
for(sexo in sexo){
tasas_enf_df[tasas_enf_df$sexo== sexo,c(10:14)] <- cbind(attr(localmoran(tasas_enf_df$suavizadas[tasas_enf_df$sexo== sexo[1]],nb2listw(matriz,style = "B")),"quadr"),
localmoran(tasas_enf_df$suavizadas[tasas_enf_df$sexo== sexo[1]],nb2listw(matriz,style = "B"))[,c(1,5)]
)
print(sexo)
}
#Armo los cluster
tasas_enf_df <- tasas_enf_df %>%
mutate(cluster= case_when(`Pr(z != E(Ii))` > 0.05 ~ 'no significativo',
TRUE ~ mean))
#Cargo la cartografia de los departamentos
deptos <- st_read(dsn= "cartografia/deptos",
layer = "pxdptodatosok")
#Arreglo las geometrias
deptos <- st_make_valid(deptos)
#Cargo la cartografia de las provincias
pcias <- st_read(dsn= "cartografia/provincias",
layer = "pxpciadatosok")
#Arreglo las geometrias
pcias <- st_make_valid(pcias)
#Selecciono caba como provincia
caba <- pcias %>% filter(link == '02')
#Excluyo antartida y caba
deptos <- deptos %>% filter(!link %in% c(94028,94021) & codpcia != '02')
#Uno los departamentos y caba
deptos <- deptos %>%
bind_rows(caba)
#Arreglo los datos
deptos <- deptos %>%
mutate(link= case_when(link== '02' ~ '02000', TRUE ~ link),
codpcia= case_when(link== '02000' ~ '02',TRUE ~ codpcia),
departamen= case_when(link== '02000' ~ 'CABA',TRUE ~ departamen))
#Agrego los datos de ambos sexos
tasas_enf_df <- deptos %>%
left_join(tasas_enf_df %>% filter(grepl("3.",sexo)) %>% select(link,RME,suavizadas,mean,cluster))
#Calculo los quintiles
tasas_enf_df$suavizadas_agrup <- cut(tasas_enf_df$suavizadas,
c(round(unique(quantile(tasas_enf_df$suavizadas, probs = c(0, 0.2, 0.4, 0.6, 0.8),names = FALSE)), 2),Inf),
dig.lab = 6, include.lowest = TRUE,right = TRUE)
#Guardo el archivo
save(tasas_enf_df,file= paste0("Reporte/mapa_",gsub("\\.RData$","",files[1]),".RData"))
files
library(tidyverse)
library(R.utils)
library(foreign)
library(sf)
library(epitools)
library(spdep)
load("datosMort/data.RData")
poblacion <- R.utils::loadObject("PoblacionesEstimadas/pobdeptos0125.Rbin")
View(casos)
View(poblacion)
fix_length <- function(x,y){
x <- as.numeric(substring(x,1,2))
x <- ifelse(x < 10,paste0('0',y),
ifelse(x == 17,"17.80 y +",
ifelse(x== 11,"11.50-54",
ifelse(x== 12,"12.55-59",as.character(y)))))
return(x)
}
pob_agrup <- poblacion %>%
filter(ano >= 2004 & ano <= 2018)%>%
mutate(gredad = fix_length(gredad,gredad)) %>%
group_by(ano,gredad,sexo)%>%
summarise(poblacion= sum(poblacion))
View(pob_agrup)
View(casos)
casos %>%
filter(enf_desa_sub != '30.Total NTD') %>%
group_by(sexo) %>%
summarise(casos= sum(casos))
load("datosMort/data.RData")
poblacion <- R.utils::loadObject("PoblacionesEstimadas/pobdeptos0125.Rbin")
fix_length <- function(x,y){
x <- as.numeric(substring(x,1,2))
x <- ifelse(x < 10,paste0('0',y),
ifelse(x == 17,"17.80 y +",
ifelse(x== 11,"11.50-54",
ifelse(x== 12,"12.55-59",as.character(y)))))
return(x)
}
pob_agrup <- poblacion %>%
filter(ano >= 2004 & ano <= 2018)%>%
mutate(gredad = fix_length(gredad,gredad)) %>%
group_by(ano,gredad,sexo)%>%
summarise(poblacion= sum(poblacion))
View(pob_agrup)
pob_agrup_tot <- poblacion %>%
filter(ano >= 2004 & ano <= 2018)%>%
mutate(gredad = fix_length(gredad,gredad)) %>%
group_by(sexo)%>%
summarise(poblacion= sum(poblacion))
View(pob_agrup_tot)
casos %>%
filter(enf_desa_sub != '30.Total NTD') %>%
group_by(sexo) %>%
summarise(casos= sum(casos))
casos %>%
filter(enf_desa_sub != '30.Total NTD' & edadquinq != '18.Total') %>%
group_by(enf_desa_sub,sexo) %>%
summarise(casos= sum(casos))
tasas_esp_ntd <- casos %>%
filter(enf_desa_sub != '30.Total NTD' & edadquinq != '18.Total') %>%
group_by(enf_desa_sub,sexo) %>%
summarise(casos= sum(casos)) %>%
left_join(pob_agrup_tot,by= c("edadquinq"="gredad","sexo")) %>%
group_by(enf_desa_sub,sexo)%>%
summarise(casos= sum(casos),
poblacion= sum(poblacion))%>%
mutate(tasa= casos*1000000/poblacion)
View(pob_agrup_tot)
tasas_esp_ntd <- casos %>%
filter(enf_desa_sub != '30.Total NTD' & edadquinq != '18.Total') %>%
group_by(enf_desa_sub,sexo) %>%
summarise(casos= sum(casos)) %>%
left_join(pob_agrup_tot,by= c("sexo")) %>%
group_by(enf_desa_sub,sexo)%>%
summarise(casos= sum(casos),
poblacion= sum(poblacion))%>%
mutate(tasa= casos*1000000/poblacion)
View(tasas_esp_ntd)
View(poblacion)
pob_agrup <- poblacion %>%
filter(ano >= 2004 & ano <= 2018 & sexo== '3.Ambos sexos')%>%
mutate(gredad = fix_length(gredad,gredad)) %>%
group_by(ano,gredad,sexo)%>%
summarise(poblacion= sum(poblacion))
pob_agrup
pob_agrup_tot <- poblacion %>%
filter(ano >= 2004 & ano <= 2018 & sexo == '3.Ambos sexos')%>%
mutate(gredad = fix_length(gredad,gredad)) %>%
group_by(sexo)%>%
summarise(poblacion= sum(poblacion))
pob_agrup_tot
View(casos)
tasas_esp_ntd <- casos %>%
filter(enf_desa_sub != '30.Total NTD' & edadquinq != '18.Total' & sexo == '3.Ambos sexos') %>%
group_by(enf_desa_sub,sexo) %>%
summarise(casos= sum(casos)) %>%
left_join(pob_agrup_tot,by= c("sexo")) %>%
group_by(enf_desa_sub,sexo)%>%
summarise(casos= sum(casos),
poblacion= sum(poblacion))%>%
mutate(tasa= casos*1000000/poblacion)
View(tasas_esp_ntd)
conf_interval <- function(d,p){
li= d*((1 -(1/(9*d)) - (1.96/3)* sqrt(1/d)))^3/p
ls= (d+1) * ((1 - (1/(9*(d+1))) + (1.96/3) * sqrt(1/(d+1))))^3 / p
return(c(li,ls))
}
for(i in 1:nrow(tasas_esp_ntd)){
tasas_esp_ntd[i,6] <- conf_interval(tasas_esp_ntd$casos[i],tasas_esp_ntd$poblacion[i])[1]*1000000
tasas_esp_ntd[i,7] <- conf_interval(tasas_esp_ntd$casos[i],tasas_esp_ntd$poblacion[i])[2]*1000000
}
colnames(tasas_esp_ntd)[6] <- "IC_inf"
colnames(tasas_esp_ntd)[7] <- "IC_sup"
ggplot(tasas_esp_ntd,
aes(x= enf_desa_sub, y= tasa, color= sexo))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup))+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")
ggplot(tasas_esp_ntd,
aes(x= enf_desa_sub, y= tasa, color= sexo))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup))+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= enf_desa_sub, y= tasa, color= sexo))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup))+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
scale_x_discrete(substring(tasas_esp_ntd$enf_desa_sub,3,stringr::str_length(tasas_esp_ntd$enf_desa_sub)))+
coord_flip()
substring(tasas_esp_ntd$enf_desa_sub,3,stringr::str_length(tasas_esp_ntd$enf_desa_sub))
ggplot(tasas_esp_ntd,
aes(x= enf_desa_sub, y= tasa, color= sexo))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup))+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
scale_x_discrete(labels= substring(tasas_esp_ntd$enf_desa_sub,4,stringr::str_length(tasas_esp_ntd$enf_desa_sub)))+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,casos), y= tasa, color= sexo))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup))+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
scale_x_discrete(labels= substring(tasas_esp_ntd$enf_desa_sub,4,stringr::str_length(tasas_esp_ntd$enf_desa_sub)))+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa, color= sexo))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup))+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
scale_x_discrete(labels= substring(tasas_esp_ntd$enf_desa_sub,4,stringr::str_length(tasas_esp_ntd$enf_desa_sub)))+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa, color= sexo))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup))+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
#scale_x_discrete(labels= substring(tasas_esp_ntd$enf_desa_sub,4,stringr::str_length(tasas_esp_ntd$enf_desa_sub)))+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa, color= sexo))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup))+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
scale_x_discrete(labels= substring(tasas_esp_ntd$enf_desa_sub,4,stringr::str_length(tasas_esp_ntd$enf_desa_sub)))+
coord_flip()
tasas_esp_ntd$enf_desa_sub <- substring(tasas_esp_ntd$enf_desa_sub,4,stringr::str_length(tasas_esp_ntd$enf_desa_sub))
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa, color= sexo))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup))+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup), color= "#8E0152")+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point()+
geom_errorbarh(aes(ymin= IC_inf, ymax= IC_sup), color= "#8E0152")+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup), color= "#8E0152",size= 1)+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup,height=.2), color= "#8E0152")+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 0.5)+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1)+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point()+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#7FBC41")+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour= "#7FBC41")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#7FBC41")+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour= "#7FBC41")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#8E0152")+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour="#8E0152")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#8E0152")+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour="#8E0152")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#8E0152",linewidth= 1)+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour="#F1B6DA")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#8E0152",linewidth= 1)+
#scale_x_discrete(labels=c("Varones","Mujeres","Ambos sexos"))+
#scale_color_manual(values=c("#7FBC41","#F1B6DA","#8E0152"),labels=c("Varones","Mujeres","Ambos sexos"))+
labs(x= "Edad Agrupada", y= "Tasa de mortalidad \n (por 1 millon de hab.)",
color= "Sexo")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour= "#8E0152")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#8E0152",linewidth= 1)+
labs(x= "NTD subtipo", y= "Tasa de mortalidad \n (por 1 millon de hab.)")+
coord_flip()
save(tasas_esp_ntd,file="Reporte/tasas_ntd_sub.RData")
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour= "#8E0152")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#8E0152",linewidth= 1)+
scale_y_log10()+
labs(x= "NTD subtipo", y= "Tasa de mortalidad \n (por 1 millon de hab.)")+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour= "#8E0152")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#8E0152",linewidth= 1)+
labs(x= "NTD subtipo", y= "Tasa de mortalidad \n (por 1 millon de hab.)")+
coord_flip()
knitr::opts_chunk$set(
echo = FALSE,
warning = FALSE,
message = FALSE,
comment = "##",
fig.width = 10
)
getwd()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour= "#8E0152")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#8E0152",linewidth= 1)+
labs(x= "NTD subtipo", y= "Tasa de mortalidad \n (por 1 millon de hab.)")+
scale_y_continuous(breaks= c(seq(0,max(tasas_esp_ntd$tasa),by= 0.5)))+
coord_flip()
max(tasas_esp_ntd$tasa)
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour= "#8E0152")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#8E0152",linewidth= 1)+
labs(x= "NTD subtipo", y= "Tasa de mortalidad \n (por 1 millon de hab.)")+
scale_y_continuous(breaks= c(seq(0,max(tasas_esp_ntd$tasa)+1,by= 0.5)))+
coord_flip()
ggplot(tasas_esp_ntd,
aes(x= reorder(enf_desa_sub,tasa), y= tasa))+
geom_point(colour= "#8E0152")+
geom_errorbar(aes(ymin= IC_inf, ymax= IC_sup),width = 1,colour= "#8E0152",linewidth= 1)+
labs(x= "NTD subtipo", y= "Tasa de mortalidad \n (por 1 millon de hab.)")+
scale_y_continuous(breaks= c(seq(0,max(tasas_esp_ntd$tasa)+1,by= 0.25)))+
coord_flip()
